"use strict";var burger=document.querySelector(".burger"),nav=document.querySelector(".nav"),closeMenuBtn=document.querySelector(".nav__close"),showBrandsBtn=document.querySelector(".nav__link-brands"),brandsContainer=document.querySelector(".nav__link-sneakers"),navLinks=document.querySelectorAll(".nav__link"),activeMenu=function(){nav.classList.add("active"),gsap.to(navLinks,{x:0,opacity:1,stagger:.1,duration:.2,ease:"power4.in"}),document.body.style.overflow="hidden",basketPage.classList.remove("appear")},closeMenu=function(){nav.classList.remove("active"),gsap.to(navLinks,{x:400,opacity:0,duration:.4,ease:"power4.in"}),document.body.style.overflow="visible",brandsContainer.classList.remove("active")},openLogosList=function(){brandsContainer.classList.toggle("active")},slides=(navLinks.forEach(function(e){e.classList.contains("nav__link-brands")||(e.addEventListener("click",closeMenu),brandsContainer.classList.remove("active"))}),showBrandsBtn.addEventListener("click",openLogosList),burger.addEventListener("click",activeMenu),closeMenuBtn.addEventListener("click",closeMenu),document.querySelectorAll(".slider__slide")),dots=document.querySelectorAll(".slider__dots-dot"),sliderTitle=document.querySelector(".thin-slider"),index=0,sliderTexts=["Prices","Brands","Quality"],slider=function(){setInterval(function(){slides.forEach(function(e){e.classList.remove("active")}),dots.forEach(function(e){e.classList.remove("active")}),sliderTitle.textContent=sliderTexts[index],slides[index].classList.add("active"),dots[index].classList.add("active"),index==slides.length-1&&(index=-1),index++},5e3)},mainImg=(slider(),document.querySelector(".gallery__main-photo-img")),smallImages=document.querySelectorAll(".new-product__small-images-img"),mainGallery=(smallImages[0].style.opacity=".4",function(e){smallImages.forEach(function(e){e.style.opacity="1"});e=e.target;e.style.opacity=".4",mainImg.src=e.src,mainImg.classList.add("current-photo"),setTimeout(function(){mainImg.classList.remove("current-photo")},200)}),saleProducts=(smallImages.forEach(function(e){return e.addEventListener("click",mainGallery)}),gsap.registerPlugin(ScrollTrigger),gsap.fromTo(".new-product__title",{opacity:0,x:60},{opacity:1,x:0,duration:.5,ease:"power4.in",scrollTrigger:{trigger:".new-product__title"}}),gsap.fromTo(".gallery__main-photo-img",{opacity:0,y:200},{opacity:1,y:0,duration:1,ease:"bounce.out",scrollTrigger:{trigger:".gallery__main-photo-img"}}),gsap.fromTo(".new-product__small-images-img",{opacity:0,y:100,rotate:45},{opacity:1,y:0,duration:.6,rotate:0,ease:"circ.out",stagger:.2,scrollTrigger:{trigger:".new-product__small-images-img"}}),document.querySelectorAll(".sale-product")),productImgs=(gsap.fromTo(".sale__title",{opacity:0,x:60},{opacity:1,x:0,duration:.5,ease:"power4.in",scrollTrigger:{trigger:".sale__title"}}),saleProducts.forEach(function(e){gsap.fromTo(e,{opacity:0,x:-100},{opacity:1,x:0,duration:.6,ease:"circ.out",scrollTrigger:{trigger:e,start:"top 60%"}})}),document.querySelectorAll(".product-img")),modalImg=document.querySelector(".img-container__img"),modal=document.querySelector(".modal"),closeModalBtn=document.querySelector(".img-container__close"),showModalImg=function(e){modal.classList.add("active"),modalImg.src=e.target.src,modalImg.classList.add("active")},closeModal=function(){modal.classList.remove("active"),modalImg.classList.remove("active")},categoryBtns=(closeModalBtn.addEventListener("click",closeModal),productImgs.forEach(function(e){e.addEventListener("click",showModalImg)}),modal.addEventListener("click",function(e){e.target.classList.contains("img-container__img")||closeModal()}),gsap.fromTo(".hero-section__title",{opacity:0,x:60},{opacity:1,x:0,duration:.5,ease:"power4.in",scrollTrigger:{trigger:".hero-section__title"}}),gsap.fromTo(".content__text",{scale:0},{scale:1,duration:.5,ease:"elastic.inOut(1, 0.3)",delay:.5,scrollTrigger:{trigger:".content__text"}}),gsap.fromTo(".features__list",{opacity:0,x:-60},{opacity:1,x:0,duration:.5,stagger:.2,delay:.5,ease:"power4.in",scrollTrigger:{trigger:".content__text"}}),document.querySelectorAll(".shop__button")),cardsShoes=document.querySelectorAll(".shop-card"),selectByCategory=(gsap.fromTo(".shop__title",{opacity:0,x:60},{opacity:1,x:0,duration:.5,ease:"power4.in",scrollTrigger:{trigger:".shop__title"}}),function(e){categoryBtns.forEach(function(e){e.classList.remove("active")});var e=e.target,t=(e.classList.add("active"),e.dataset.name);cardsShoes.forEach(function(e){e.classList.contains(t)?e.classList.add("active"):e.style.display="none","all"===t&&e.classList.add("active"),setTimeout(function(){e.classList.contains("active")&&(e.classList.remove("active"),e.style.display="flex")},200)})}),brandsLinks=(categoryBtns.forEach(function(e){return e.addEventListener("click",selectByCategory)}),document.querySelectorAll(".nav__link-brand")),getCurrentBrand=function(e){closeMenu();var t=e.target.id;categoryBtns.forEach(function(e){e.classList.remove("active"),e.id===t&&e.classList.add("active")}),cardsShoes.forEach(function(e){e.style.display="none",e.classList.contains(t)&&(e.classList.add("active"),e.style.display="flex"),setTimeout(function(){e.classList.contains("active")&&(e.classList.remove("active"),e.style.display="flex")},200)})},basketBtn=(brandsLinks.forEach(function(e){return e.addEventListener("click",getCurrentBrand)}),gsap.fromTo(".hero-sectionV2__title",{opacity:0,x:60},{opacity:1,x:0,duration:.5,ease:"power4.in",scrollTrigger:{trigger:".hero-sectionV2__title"}}),gsap.fromTo(".hero-sectionV2__content-txt",{scale:0},{scale:1,duration:.5,ease:"elastic.inOut(1, 0.3)",delay:.5,scrollTrigger:{trigger:".hero-sectionV2__content-txt"}}),gsap.fromTo(".hero-sectionV2__list-item",{opacity:0,x:-60},{opacity:1,x:0,duration:.5,stagger:.2,delay:.5,ease:"power4.in",scrollTrigger:{trigger:".hero-sectionV2__content-txt"}}),document.querySelector(".bucket__link")),basketPage=document.querySelector(".client-bucket"),addToBasketBtns=(basketBtn.addEventListener("click",function(){basketPage.classList.toggle("appear")}),document.querySelectorAll(".btns__buy-btn")),newItemContainer=document.querySelector(".client-bucket__products-container"),totalAmmount=document.querySelector(".client-bucket__total-sum"),addedItemsNumber=document.querySelector(".bucket__icon-items"),addItemModal=document.querySelector(".add-modal"),totalSum=[0],ID=0,addItem=function(e){ID++;var e=e.target.parentElement.parentElement,t=e.children[0].src,o=e.children[1].textContent,c=e.children[2],c=parseFloat(c.querySelector(".prices__current-price").textContent),e=e.children[3].querySelector(".btns__sizes").value,a=document.createElement("div"),t=(a.classList.add("client-bucket__product"),a.id=ID,a.innerHTML='\n<img src="'.concat(t,'" alt="').concat(o,'" class="client-bucket__product-img">\n<h3 class="client-bucket__product-name">').concat(o,'</h3>\n<div class="client-bucket__product-info">\n  <p class="client-bucket__product-size">Size: <span class="client-bucket__current-size">').concat(e,'</span></p>\n  <span class="client-bucket__product-price">').concat(c,'$</span>\n</div>\n<button onclick="removeItem(').concat(ID,')" class="client-bucket__remove-product"><i class="fa-solid fa-trash-can"></i>Remove</button>\n</div>\n'),newItemContainer.appendChild(a),totalSum.push(c),addedItemsNumber.textContent=totalSum.length-1,totalSum.reduce(function(e,t){return e+t}));totalAmmount.textContent="".concat(t,"$"),addItemModal.classList.add("active"),setTimeout(function(){addItemModal.classList.remove("active")},1e3)},closeBasketPageBtn=(addToBasketBtns.forEach(function(e){return e.addEventListener("click",addItem)}),document.querySelector(".client-bucket__close ").addEventListener("click",function(){basketPage.classList.remove("appear")})),removeItem=function(e){var e=document.getElementById(e),t=e.children[2].querySelector(".client-bucket__product-price"),t=parseFloat(t.textContent),t=totalSum.indexOf(t),t=(totalSum.splice(1,t),totalSum.reduce(function(e,t){return e+t}));totalAmmount.textContent="".concat(t,"$"),addedItemsNumber.textContent=totalSum.length-1,e.remove()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXYiLCJjbG9zZU1lbnVCdG4iLCJzaG93QnJhbmRzQnRuIiwiYnJhbmRzQ29udGFpbmVyIiwibmF2TGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWN0aXZlTWVudSIsImNsYXNzTGlzdCIsImFkZCIsImdzYXAiLCJ0byIsIngiLCJvcGFjaXR5Iiwic3RhZ2dlciIsImR1cmF0aW9uIiwiZWFzZSIsImJvZHkiLCJzdHlsZSIsIm92ZXJmbG93IiwicmVtb3ZlIiwiY2xvc2VNZW51IiwiYmFza2V0UGFnZSIsIm9wZW5Mb2dvc0xpc3QiLCJ0b2dnbGUiLCJzbGlkZXMiLCJmb3JFYWNoIiwibGluayIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvdHMiLCJzbGlkZXJUZXh0cyIsInNldEludGVydmFsIiwic2xpZGVyVGl0bGUiLCJzbGlkZSIsInRleHRDb250ZW50IiwiaW5kZXgiLCJkb3QiLCJtYWluSW1nIiwic2xpZGVyIiwic21hbGxJbWFnZXMiLCJlIiwiaW1nIiwibWFpbkdhbGxlcnkiLCJ0YXJnZXQiLCJjbGlja2VkUGhvdG8iLCJzcmMiLCJzZXRUaW1lb3V0Iiwic2FsZVByb2R1Y3RzIiwicmVnaXN0ZXJQbHVnaW4iLCJTY3JvbGxUcmlnZ2VyIiwiZnJvbVRvIiwic2Nyb2xsVHJpZ2dlciIsInkiLCJyb3RhdGUiLCJ0cmlnZ2VyIiwic2hvZSIsInN0YXJ0IiwibW9kYWxJbWciLCJjbG9zZU1vZGFsIiwic2hvd01vZGFsSW1nIiwibW9kYWwiLCJzY2FsZSIsImRlbGF5Iiwic2VsZWN0QnlDYXRlZ29yeSIsImNhdGVnb3J5QnRucyIsImJ0biIsImNsb3NlTW9kYWxCdG4iLCJzZWxlY3RlZCIsImRhdGFzZXQiLCJjYXJkc1Nob2VzIiwiY2FyZCIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJkaXNwbGF5IiwiZ2V0Q3VycmVudEJyYW5kIiwiaWQiLCJjdXJyZW50QnJhbmQiLCJiYXNrZXRCdG4iLCJuZXdJdGVtQ29udGFpbmVyIiwidG90YWxBbW1vdW50IiwiYWRkZWRJdGVtc051bWJlciIsImFkZEl0ZW1Nb2RhbCIsInRvdGFsU3VtIiwiYWRkSXRlbSIsIklEIiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwicHJvZHVjdENhcmQiLCJwcmljZXMiLCJpdGVtUHJpY2UiLCJwYXJzZUZsb2F0IiwiaXRlbVNpemUiLCJ2YWx1ZSIsInRvdGFsQW1tb3VudFRvUGF5IiwiYWRkZWRJdGVtQ2FyZCIsImNvbmNhdCIsIml0ZW1OYW1lIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwibGVuZ3RoIiwicmVkdWNlIiwiYSIsImIiLCJicmFuZHNMaW5rcyIsImFkZFRvQmFza2V0QnRucyIsInJlbW92ZUl0ZW0iLCJnZXRFbGVtZW50QnlJZCIsIml0ZW1Ub1JlbW92ZSIsInByaWNlVG9SZW1vdmUiLCJpbmRleFRvUmVtb3ZlIiwiaW5kZXhPZiIsInNwbGljZSJdLCJtYXBwaW5ncyI6ImFBR0EsSUFBTUEsT0FBU0MsU0FBU0MsY0FBYyxXQUNoQ0MsSUFBTUYsU0FBU0MsY0FBYyxRQUM3QkUsYUFBZUgsU0FBU0MsY0FBYyxlQUN0Q0csY0FBZ0JKLFNBQVNDLGNBQWMscUJBQ3ZDSSxnQkFBa0JMLFNBQVNDLGNBQWMsdUJBQ3pDSyxTQUFXTixTQUFTTyxpQkFBaUIsY0FFckNDLFdBQWEsV0FDakJOLElBQUlPLFVBQVVDLElBQUksVUFDbkJDLEtBQUlDLEdBQUpOLFNBQW1CLENBQUFPLEVBQUEsRUFBQUMsUUFBQSxFQUFBQyxRQUFBLEdBQUFDLFNBQUEsR0FBQUMsS0FBQSxjQUFDSixTQUFESyxLQUFBQyxNQUFBQyxTQUFBLFNBQU9OLFdBQU9MLFVBQWRZLE9BQUEsV0FBbkJDLFVBQUEsV0FDQXRCLElBQUFBLFVBQWNtQixPQUFNQyxVQUNwQkcsS0FBQUEsR0FBQUEsU0FBV2QsQ0FBWEksRUFBcUJRLElBQU9QLFFBQTVCLEVBQUFFLFNBQUEsR0FBQUMsS0FBQSxjQUpEakIs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RixhQUFLbUIsWUFBTG5CLEdBQUFBLE9BQXJENkUsRUFBcUQ3RSxLQUFrQm9DLGlCQUFjakIsWUFBQStDLFNBQUFpQixPQUFBLEVBQUFRLEVBQUF2RiIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gTkFWSUdBVElPTiBGVU5DVElPTlMgSEFORExFXHJcblxyXG5jb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKTtcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbmNvbnN0IGNsb3NlTWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19jbG9zZVwiKTtcclxuY29uc3Qgc2hvd0JyYW5kc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saW5rLWJyYW5kc1wiKTtcclxuY29uc3QgYnJhbmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpbmstc25lYWtlcnNcIik7XHJcbmNvbnN0IG5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcblxyXG5jb25zdCBhY3RpdmVNZW51ID0gKCkgPT4ge1xyXG4gIG5hdi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gZ3NhcC50byhuYXZMaW5rcywgIHt4OiAwLCBvcGFjaXR5OjEsIHN0YWdnZXI6LjEsIGR1cmF0aW9uOi4yLCBlYXNlOlwicG93ZXI0LmluXCJ9KTtcclxuIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gYmFza2V0UGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiYXBwZWFyXCIpO1xyXG59XHJcblxyXG5cclxuY29uc3QgY2xvc2VNZW51ID0gKCkgPT4ge1xyXG4gIG5hdi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gIGdzYXAudG8obmF2TGlua3MsICB7eDogNDAwLCBvcGFjaXR5OjAsICBkdXJhdGlvbjouNCwgZWFzZTpcInBvd2VyNC5pblwifSk7XHJcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwidmlzaWJsZVwiO1xyXG4gIGJyYW5kc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG59XHJcblxyXG5jb25zdCBvcGVuTG9nb3NMaXN0ID0gKCkgPT4ge1xyXG4gIGJyYW5kc0NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpXHJcbn1cclxuXHJcbm5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgaWYobGluay5jbGFzc0xpc3QuY29udGFpbnMoXCJuYXZfX2xpbmstYnJhbmRzXCIpKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNZW51KTtcclxuICBicmFuZHNDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG59KVxyXG5cclxuc2hvd0JyYW5kc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkxvZ29zTGlzdClcclxuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhY3RpdmVNZW51KTtcclxuY2xvc2VNZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1lbnUpO1xyXG5cclxuLy9TTElERVIgRlVOQ1RJT05TIEhBTkRMRVxyXG5cclxuY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXJfX3NsaWRlXCIpO1xyXG5jb25zdCBkb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXJfX2RvdHMtZG90XCIpO1xyXG5jb25zdCBzbGlkZXJUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGhpbi1zbGlkZXJcIilcclxuXHJcbmxldCBpbmRleCA9IDA7XHJcbmNvbnN0IHNsaWRlclRleHRzID0gW1wiUHJpY2VzXCIsIFwiQnJhbmRzXCIsIFwiUXVhbGl0eVwiXVxyXG5cclxuXHJcbmNvbnN0IHNsaWRlciA9ICgpID0+IHtcclxuIFxyXG4gIHNldEludGVydmFsKCgpID0+IHtcclxuICBcclxuICAgIHNsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcclxuICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBkb3RzLmZvckVhY2goZG90ID0+IHtcclxuICAgICAgZG90LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgIH0pO1xyXG4gICAgc2xpZGVyVGl0bGUudGV4dENvbnRlbnQgPSBzbGlkZXJUZXh0c1tpbmRleF1cclxuc2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5kb3RzW2luZGV4XS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5pZihpbmRleCA9PSBzbGlkZXMubGVuZ3RoIC0xKSB7XHJcbiAgaW5kZXggPSAtMVxyXG59XHJcbmluZGV4Kys7XHJcbiAgfSwgNTAwMClcclxufVxyXG5cclxuc2xpZGVyKClcclxuXHJcbi8vIE5FVyBQUk9EVUNUIEdBTExFUlkgSEFORExFXHJcblxyXG5jb25zdCBtYWluSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19tYWluLXBob3RvLWltZ1wiKTtcclxuY29uc3Qgc21hbGxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ldy1wcm9kdWN0X19zbWFsbC1pbWFnZXMtaW1nXCIpO1xyXG5cclxuc21hbGxJbWFnZXNbMF0uc3R5bGUub3BhY2l0eSA9IFwiLjRcIjtcclxuXHJcbmNvbnN0IG1haW5HYWxsZXJ5ID0gZSA9PiB7XHJcbiAgc21hbGxJbWFnZXMuZm9yRWFjaChpbWcgPT57XHJcbiAgICBpbWcuc3R5bGUub3BhY2l0eSA9IFwiMVwiXHJcbiAgfSlcclxuICBjb25zdCBjbGlja2VkUGhvdG8gPSBlLnRhcmdldDtcclxuICBjbGlja2VkUGhvdG8uc3R5bGUub3BhY2l0eSA9IFwiLjRcIlxyXG4gIG1haW5JbWcuc3JjID0gY2xpY2tlZFBob3RvLnNyYztcclxuXHJcbiAgbWFpbkltZy5jbGFzc0xpc3QuYWRkKFwiY3VycmVudC1waG90b1wiKTtcclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxubWFpbkltZy5jbGFzc0xpc3QucmVtb3ZlKFwiY3VycmVudC1waG90b1wiKVxyXG4gIH0sMjAwKVxyXG59XHJcblxyXG5cclxuc21hbGxJbWFnZXMuZm9yRWFjaChpbWcgPT4gaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBtYWluR2FsbGVyeSkpO1xyXG5cclxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKVxyXG5cclxuZ3NhcC5mcm9tVG8oXCIubmV3LXByb2R1Y3RfX3RpdGxlXCIsIHtvcGFjaXR5OjAsIHg6NjB9LCB7b3BhY2l0eToxLCB4OjAsIGR1cmF0aW9uOiAuNSwgZWFzZTpcInBvd2VyNC5pblwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOiBcIi5uZXctcHJvZHVjdF9fdGl0bGVcIlxyXG59fSlcclxuXHJcbmdzYXAuZnJvbVRvKFwiLmdhbGxlcnlfX21haW4tcGhvdG8taW1nXCIsIHtvcGFjaXR5OjAsIHk6MjAwfSwge29wYWNpdHk6MSwgeTowLCBkdXJhdGlvbjoxLCBlYXNlOlwiYm91bmNlLm91dFwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOlwiLmdhbGxlcnlfX21haW4tcGhvdG8taW1nXCJcclxufX0pXHJcblxyXG5nc2FwLmZyb21UbyhcIi5uZXctcHJvZHVjdF9fc21hbGwtaW1hZ2VzLWltZ1wiLCB7b3BhY2l0eTowLCB5OjEwMCwgcm90YXRlOjQ1fSwge29wYWNpdHk6MSwgeTowLCBkdXJhdGlvbjouNixyb3RhdGU6MCwgZWFzZTpcImNpcmMub3V0XCIsIHN0YWdnZXI6LjIsIHNjcm9sbFRyaWdnZXI6e1xyXG4gIHRyaWdnZXI6XCIubmV3LXByb2R1Y3RfX3NtYWxsLWltYWdlcy1pbWdcIlxyXG59fSlcclxuXHJcbi8vIFNBTEUgU0VDVElPTiBIQU5ETEUgXHJcblxyXG5jb25zdCBzYWxlUHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNhbGUtcHJvZHVjdFwiKTtcclxuXHJcbmdzYXAuZnJvbVRvKFwiLnNhbGVfX3RpdGxlXCIsIHtvcGFjaXR5OjAsIHg6NjB9LCB7b3BhY2l0eToxLCB4OjAsIGR1cmF0aW9uOiAuNSwgZWFzZTpcInBvd2VyNC5pblwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOiBcIi5zYWxlX190aXRsZVwiXHJcbn19KVxyXG5cclxuc2FsZVByb2R1Y3RzLmZvckVhY2goc2hvZSA9PiB7XHJcbiAgZ3NhcC5mcm9tVG8oc2hvZSwge29wYWNpdHk6MCwgeDotMTAwLCB9LCB7b3BhY2l0eToxLCB4OjAsIGR1cmF0aW9uOi42LCBlYXNlOlwiY2lyYy5vdXRcIiwgc2Nyb2xsVHJpZ2dlcjp7XHJcbiAgICB0cmlnZ2VyOiBzaG9lLFxyXG4gICAgc3RhcnQ6IFwidG9wIDYwJVwiXHJcbiAgfX0pXHJcbn0pXHJcblxyXG4vLyBTQUxFIE1PREFMIEFOSUFNVElPTlxyXG5cclxuY29uc3QgcHJvZHVjdEltZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2R1Y3QtaW1nXCIpO1xyXG5jb25zdCBtb2RhbEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1nLWNvbnRhaW5lcl9faW1nXCIpO1xyXG5jb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIik7XHJcbmNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltZy1jb250YWluZXJfX2Nsb3NlXCIpO1xyXG5cclxuY29uc3Qgc2hvd01vZGFsSW1nID0gZSA9PiB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxyXG5cclxubW9kYWxJbWcuc3JjID0gZS50YXJnZXQuc3JjO1xyXG5tb2RhbEltZy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlTW9kYWwgPSAoKSA9PiB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICBtb2RhbEltZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG59XHJcblxyXG5jbG9zZU1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsKVxyXG5wcm9kdWN0SW1ncy5mb3JFYWNoKGltZyA9PiB7XHJcbiAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93TW9kYWxJbWcpXHJcbn0pXHJcblxyXG5tb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlID0+IHtcclxuaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW1nLWNvbnRhaW5lcl9faW1nXCIpKSB7XHJcbiAgcmV0dXJuXHJcbn0gZWxzZSB7XHJcbiAgY2xvc2VNb2RhbCgpXHJcbn1cclxufSlcclxuXHJcbi8vIEhFUk8gU0VDVElPTiBBTklNQVRJT04gSEFORExFXHJcblxyXG5nc2FwLmZyb21UbyhcIi5oZXJvLXNlY3Rpb25fX3RpdGxlXCIsIHtvcGFjaXR5OjAsIHg6NjB9LCB7b3BhY2l0eToxLCB4OjAsIGR1cmF0aW9uOiAuNSwgZWFzZTpcInBvd2VyNC5pblwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOiBcIi5oZXJvLXNlY3Rpb25fX3RpdGxlXCJcclxufX0pO1xyXG5cclxuZ3NhcC5mcm9tVG8oXCIuY29udGVudF9fdGV4dFwiLCB7c2NhbGU6MH0sIHtzY2FsZToxLCBkdXJhdGlvbjogLjUsIGVhc2U6XCJlbGFzdGljLmluT3V0KDEsIDAuMylcIiwgZGVsYXk6LjUsIHNjcm9sbFRyaWdnZXI6e1xyXG4gIHRyaWdnZXI6IFwiLmNvbnRlbnRfX3RleHRcIlxyXG59fSk7XHJcblxyXG5nc2FwLmZyb21UbyhcIi5mZWF0dXJlc19fbGlzdFwiLCB7b3BhY2l0eTowLCB4Oi02MH0sIHtvcGFjaXR5OjEsIHg6MCwgZHVyYXRpb246IC41LCBzdGFnZ2VyOi4yLCBkZWxheTouNSwgZWFzZTpcInBvd2VyNC5pblwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOiBcIi5jb250ZW50X190ZXh0XCIsXHJcbn19KTtcclxuXHJcbi8vIFNIT1AgU0VDVElPTiBIQU5ETEVcclxuXHJcbmNvbnN0IGNhdGVnb3J5QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hvcF9fYnV0dG9uXCIpO1xyXG5jb25zdCBjYXJkc1Nob2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaG9wLWNhcmRcIik7XHJcblxyXG5nc2FwLmZyb21UbyhcIi5zaG9wX190aXRsZVwiLCB7b3BhY2l0eTowLCB4OjYwfSwge29wYWNpdHk6MSwgeDowLCBkdXJhdGlvbjogLjUsIGVhc2U6XCJwb3dlcjQuaW5cIiwgc2Nyb2xsVHJpZ2dlcjp7XHJcbiAgdHJpZ2dlcjogXCIuc2hvcF9fdGl0bGVcIlxyXG59fSk7XHJcblxyXG5jb25zdCBzZWxlY3RCeUNhdGVnb3J5ID0gKGUpID0+IHtcclxuICBjYXRlZ29yeUJ0bnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICB9KVxyXG4gIGNvbnN0IHNlbGVjdGVkID0gZS50YXJnZXQ7XHJcbiAgc2VsZWN0ZWQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxyXG5jb25zdCBzZWxlY3RlZENhdGVnb3J5ID0gc2VsZWN0ZWQuZGF0YXNldC5uYW1lO1xyXG5jYXJkc1Nob2VzLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgaWYoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0ZWRDYXRlZ29yeSkpIHtcclxuY2FyZC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpXHJcbiAgfSBlbHNlIHtcclxuICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgfSBpZihzZWxlY3RlZENhdGVnb3J5ID09PSBcImFsbFwiKSB7XHJcbiAgICBjYXJkLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcclxuICB9XHJcblxyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG5pZihjYXJkLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gIGNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICBjYXJkLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG59XHJcbiAgfSwyMDApXHJcbn0pXHJcblxyXG59XHJcblxyXG5cclxuY2F0ZWdvcnlCdG5zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZWN0QnlDYXRlZ29yeSkpXHJcblxyXG5jb25zdCBicmFuZHNMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19saW5rLWJyYW5kXCIpO1xyXG5cclxuY29uc3QgZ2V0Q3VycmVudEJyYW5kID0gKGUpID0+IHtcclxuICBjbG9zZU1lbnUoKVxyXG4gIGNvbnN0IGN1cnJlbnRCcmFuZCA9IGUudGFyZ2V0LmlkO1xyXG5cclxuY2F0ZWdvcnlCdG5zLmZvckVhY2goYnRuID0+IHtcclxuICBidG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG4gIGlmKGJ0bi5pZCA9PT0gY3VycmVudEJyYW5kKSB7XHJcbiAgICBidG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxyXG4gIH1cclxufSlcclxuXHJcbiAgY2FyZHNTaG9lcy5mb3JFYWNoKGNhcmQgPT4ge1xyXG4gICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGlmKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKGN1cnJlbnRCcmFuZCkpIHtcclxuICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG4gICAgfSBcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxuICAgICAgfVxyXG4gICAgICAgIH0sMjAwKVxyXG4gIH0pXHJcbn1cclxuXHJcbmJyYW5kc0xpbmtzLmZvckVhY2gobGluayA9PiBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZXRDdXJyZW50QnJhbmQpKTtcclxuXHJcblxyXG5cclxuLy8gSEVSTyBTRUNUSU9OIFYyIEFOSU1BVElPTiBIQU5ETEVcclxuXHJcbmdzYXAuZnJvbVRvKFwiLmhlcm8tc2VjdGlvblYyX190aXRsZVwiLCB7b3BhY2l0eTowLCB4OjYwfSwge29wYWNpdHk6MSwgeDowLCBkdXJhdGlvbjogLjUsIGVhc2U6XCJwb3dlcjQuaW5cIiwgc2Nyb2xsVHJpZ2dlcjp7XHJcbiAgdHJpZ2dlcjogXCIuaGVyby1zZWN0aW9uVjJfX3RpdGxlXCJcclxufX0pO1xyXG5cclxuZ3NhcC5mcm9tVG8oXCIuaGVyby1zZWN0aW9uVjJfX2NvbnRlbnQtdHh0XCIsIHtzY2FsZTowfSwge3NjYWxlOjEsIGR1cmF0aW9uOiAuNSwgZWFzZTpcImVsYXN0aWMuaW5PdXQoMSwgMC4zKVwiLCBkZWxheTouNSwgc2Nyb2xsVHJpZ2dlcjp7XHJcbiAgdHJpZ2dlcjogXCIuaGVyby1zZWN0aW9uVjJfX2NvbnRlbnQtdHh0XCJcclxufX0pO1xyXG5cclxuZ3NhcC5mcm9tVG8oXCIuaGVyby1zZWN0aW9uVjJfX2xpc3QtaXRlbVwiLCB7b3BhY2l0eTowLCB4Oi02MH0sIHtvcGFjaXR5OjEsIHg6MCwgZHVyYXRpb246IC41LCBzdGFnZ2VyOi4yLCBkZWxheTouNSwgZWFzZTpcInBvd2VyNC5pblwiLCBzY3JvbGxUcmlnZ2VyOntcclxuICB0cmlnZ2VyOiBcIi5oZXJvLXNlY3Rpb25WMl9fY29udGVudC10eHRcIixcclxufX0pO1xyXG5cclxuXHJcblxyXG4vLyBCQVNLRVQgSEFORExFXHJcblxyXG5jb25zdCBiYXNrZXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1Y2tldF9fbGlua1wiKTtcclxuY29uc3QgYmFza2V0UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xpZW50LWJ1Y2tldFwiKTtcclxuYmFza2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYmFza2V0UGFnZS5jbGFzc0xpc3QudG9nZ2xlKFwiYXBwZWFyXCIpXHJcbn0pXHJcblxyXG4vLyBBREQgSVRFTSBUTyBCQVNLRVQgSEFORExFXHJcblxyXG5jb25zdCBhZGRUb0Jhc2tldEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bnNfX2J1eS1idG5cIik7XHJcbmNvbnN0IG5ld0l0ZW1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsaWVudC1idWNrZXRfX3Byb2R1Y3RzLWNvbnRhaW5lclwiKTtcclxuY29uc3QgdG90YWxBbW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbGllbnQtYnVja2V0X190b3RhbC1zdW1cIik7XHJcbmNvbnN0IGFkZGVkSXRlbXNOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1Y2tldF9faWNvbi1pdGVtc1wiKTtcclxuY29uc3QgYWRkSXRlbU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtbW9kYWxcIik7XHJcbmxldCB0b3RhbFN1bSA9IFswXTtcclxubGV0IElEID0gMDtcclxuXHJcblxyXG5cclxuY29uc3QgYWRkSXRlbSA9IChlKSA9PiB7XHJcbiAgSUQrKztcclxuY29uc3QgYnV0dG9uID0gZS50YXJnZXQ7XHJcbmNvbnN0IHByb2R1Y3RDYXJkID0gYnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuY29uc3QgaXRlbUltZyA9IHByb2R1Y3RDYXJkLmNoaWxkcmVuWzBdLnNyYztcclxuY29uc3QgaXRlbU5hbWUgPSBwcm9kdWN0Q2FyZC5jaGlsZHJlblsxXS50ZXh0Q29udGVudDtcclxuY29uc3QgcHJpY2VzID0gcHJvZHVjdENhcmQuY2hpbGRyZW5bMl07XHJcbmNvbnN0IGl0ZW1QcmljZSA9IHBhcnNlRmxvYXQocHJpY2VzLnF1ZXJ5U2VsZWN0b3IoXCIucHJpY2VzX19jdXJyZW50LXByaWNlXCIpLnRleHRDb250ZW50KTtcclxuY29uc3Qgc2l6ZXMgPSBwcm9kdWN0Q2FyZC5jaGlsZHJlblszXTtcclxuY29uc3QgaXRlbVNpemUgPSBzaXplcy5xdWVyeVNlbGVjdG9yKFwiLmJ0bnNfX3NpemVzXCIpLnZhbHVlO1xyXG5cclxuY29uc3QgYWRkZWRJdGVtQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbmFkZGVkSXRlbUNhcmQuY2xhc3NMaXN0LmFkZChcImNsaWVudC1idWNrZXRfX3Byb2R1Y3RcIik7XHJcbmFkZGVkSXRlbUNhcmQuaWQgPSBJRDtcclxuYWRkZWRJdGVtQ2FyZC5pbm5lckhUTUwgPSBgXHJcbjxpbWcgc3JjPVwiJHtpdGVtSW1nfVwiIGFsdD1cIiR7aXRlbU5hbWV9XCIgY2xhc3M9XCJjbGllbnQtYnVja2V0X19wcm9kdWN0LWltZ1wiPlxyXG48aDMgY2xhc3M9XCJjbGllbnQtYnVja2V0X19wcm9kdWN0LW5hbWVcIj4ke2l0ZW1OYW1lfTwvaDM+XHJcbjxkaXYgY2xhc3M9XCJjbGllbnQtYnVja2V0X19wcm9kdWN0LWluZm9cIj5cclxuICA8cCBjbGFzcz1cImNsaWVudC1idWNrZXRfX3Byb2R1Y3Qtc2l6ZVwiPlNpemU6IDxzcGFuIGNsYXNzPVwiY2xpZW50LWJ1Y2tldF9fY3VycmVudC1zaXplXCI+JHtpdGVtU2l6ZX08L3NwYW4+PC9wPlxyXG4gIDxzcGFuIGNsYXNzPVwiY2xpZW50LWJ1Y2tldF9fcHJvZHVjdC1wcmljZVwiPiR7aXRlbVByaWNlfSQ8L3NwYW4+XHJcbjwvZGl2PlxyXG48YnV0dG9uIG9uY2xpY2s9XCJyZW1vdmVJdGVtKCR7SUR9KVwiIGNsYXNzPVwiY2xpZW50LWJ1Y2tldF9fcmVtb3ZlLXByb2R1Y3RcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoLWNhblwiPjwvaT5SZW1vdmU8L2J1dHRvbj5cclxuPC9kaXY+XHJcbmBcclxubmV3SXRlbUNvbnRhaW5lci5hcHBlbmRDaGlsZChhZGRlZEl0ZW1DYXJkKVxyXG50b3RhbFN1bS5wdXNoKGl0ZW1QcmljZSk7XHJcbmFkZGVkSXRlbXNOdW1iZXIudGV4dENvbnRlbnQgPSB0b3RhbFN1bS5sZW5ndGggLTE7XHJcbmNvbnN0IHRvdGFsQW1tb3VudFRvUGF5ID0gdG90YWxTdW0ucmVkdWNlKChhLGIpID0+IHtcclxuICByZXR1cm4gYSArIGIgXHJcbn0pXHJcblxyXG50b3RhbEFtbW91bnQudGV4dENvbnRlbnQgPSBgJHt0b3RhbEFtbW91bnRUb1BheX0kYDtcclxuYWRkSXRlbU1vZGFsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcblxyXG5cclxuXHJcbnNldFRpbWVvdXQoKCkgPT4ge1xyXG5hZGRJdGVtTW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG59LDEwMDApO1xyXG5cclxuXHJcbn1cclxuXHJcbmFkZFRvQmFza2V0QnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZEl0ZW0pKTtcclxuXHJcbi8vIENMT1NFIEJBU0tFVCBQQUdFXHJcblxyXG5jb25zdCBjbG9zZUJhc2tldFBhZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsaWVudC1idWNrZXRfX2Nsb3NlIFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGJhc2tldFBhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImFwcGVhclwiKVxyXG59KVxyXG5cclxuLy8gUkVNT1ZFIElURU0gRlJPTSBCQVNLRVRcclxuXHJcblxyXG5jb25zdCByZW1vdmVJdGVtID0gKGlkKSA9PiB7XHJcbiAgY29uc3QgaXRlbVRvUmVtb3ZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gY29uc3QgaXRlbVByaWNlID0gaXRlbVRvUmVtb3ZlLmNoaWxkcmVuWzJdLnF1ZXJ5U2VsZWN0b3IoXCIuY2xpZW50LWJ1Y2tldF9fcHJvZHVjdC1wcmljZVwiKTtcclxuIGNvbnN0IHByaWNlVG9SZW1vdmUgPSBwYXJzZUZsb2F0KGl0ZW1QcmljZS50ZXh0Q29udGVudCk7XHJcbiBjb25zdCBpbmRleFRvUmVtb3ZlID0gdG90YWxTdW0uaW5kZXhPZihwcmljZVRvUmVtb3ZlKTtcclxuIHRvdGFsU3VtLnNwbGljZSgxLCBpbmRleFRvUmVtb3ZlKTtcclxuIGNvbnN0IHRvdGFsQW1tb3VudFRvUGF5ID0gdG90YWxTdW0ucmVkdWNlKChhLGIpID0+IHtcclxuICByZXR1cm4gYSArIGIgXHJcbn0pXHJcblxyXG50b3RhbEFtbW91bnQudGV4dENvbnRlbnQgPSBgJHt0b3RhbEFtbW91bnRUb1BheX0kYDtcclxuIGFkZGVkSXRlbXNOdW1iZXIudGV4dENvbnRlbnQgPSB0b3RhbFN1bS5sZW5ndGggLTE7XHJcblxyXG4gaXRlbVRvUmVtb3ZlLnJlbW92ZSgpXHJcbn1cclxuIFxyXG4gIFxyXG5cclxuIl19
